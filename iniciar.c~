#include <stdlib.h>
#include <stdio.h>
#include <math.h>

#define M_PI 3.14159265358979323846

void generate_points(double *x, double *y, double *z, double n_points);

int main(int argc, char **argv){

  double *x, *y, *z;
  double n_points;
  int  j;

  n_points = atoi(argv[1]);

  x = malloc(sizeof(double)*n_points);
  y = malloc(sizeof(double)*n_points);
  z = malloc(sizeof(double)*n_points);

  generate_points(x, y, z, n_points);

  for(j=0; j<n_points; j++){

    printf("%f \t %f \t %f \n", x[j], y[j] , z[j]);

  }

  return 0;
}

void generate_points(double *x, double *y, double *z, double n_points){

  double phi, r, theta;
  double R;
  int i;
  R = 2.0;

  for(i=0; i<n_points; i++){
    phi = drand48()*2*M_PI;
    theta = acos(2*drand48()-1);
    r = R*pow(drand48(), 1.0/3.0);

    x[i] = r*sin(theta)*cos(phi);
    y[i] = r*sin(theta)*sin(phi);
    z[i] = r*cos(theta);
  } 

}
